<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>A Classic</title>
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>

<h1 id="title">A Classic</h1>
<div>
	<video src="https://www.cs.tufts.edu/comp/20/classic.mp4" id="a_classic" class="center" controls></video>
</div>
<div id="lyrics"><p></p></div>

<script language="javascript">

	// Time in sec to switch stanza
	var times = [9.2, 25, 41, 57, 80, 95, 111, 135, 158]; 
	var lines = [
		[ "Children have You ever met the Bogeyman before",
		"No, of course You haven't for You're much too good, I'm sure;", 
		"Don't You be afraid of him if he should visit You,",
		"He's a great big coward, so I'll tell You what to do" ],
		
		[ "Hush, hush, hush, here comes the Bogeyman,", 
		"Don't let him come too close to You, he'll catch you if he can.",
		"Just pretend that you're a crocodile",
		"And you will find that Bogeyman will run away a mile." ],
		
		[ "Say Shoo shoo and stick him with a pin",
		"Bogeyman will very nearly jump out of his skin",
		"Say buzz buzz just like the wasps that sting",
		"Bogeyman will think you are an elephant with wings" ],
		
		[ "Hush, hush, hush, here comes the Bogeyman",
		"Tell him you've got soldiers in your bed",	
		"For he will never guess that they are only made of lead" ,
		""],
		
		[ "Say Hush hush, he'll think that you're asleep",
		"If you make a lovely snore away he'll softly creep",
		"Sing this tune you children one and all",
		"Bogeyman will run away, he'll think it's Henry Hall!" ],
		
		[ "When the shadows of the evening creep across the sky",
		"And your Mummy comes upstairs to sing a lullaby",
		"Tell her that the bogeyman no longer frightens you",
		"Uncle Henry's very kindly told you what to do"],
		
		[ "Hush, hush, hush, here comes the Bogeyman",
		"Don't let him come too close to you, He'll catch you if he can.",
		"Just pretend your teddy bear's a dog",
		"Then shout out, 'Fetch him, Teddy!' and he'll hop off like a frog." ],
		
		[ "Say Meoow, pretend that you're a cat",
		"He'll think you may scratch him that make him fall down flat",
		"Just pretend he isn't really there",
		"You will find that Bogey man will vanish in thin air"],
		
		[ "Here's one way to catch him without fail",
		"Just keep a little salt with you",
		"and put it on his tail",
		"" ]
	];
    
	document.getElementById("a_classic").addEventListener("timeupdate", function(){ display_lyrics(lines, times) });
	
	
	function display_lyrics(lines, times) {
		var vid = document.getElementById("a_classic");
		var lyric_block = document.getElementById("lyrics");
		var end_time = 168;
		if (vid.currentTime >= times[0] && vid.currentTime < end_time) {
			var index = 0;
			for (var i = times.length - 1 ; i >= 0; i--) {
				if (vid.currentTime >= times[i]) {
					index = i;
					break;
				}
			}
			var tanza = "";
			for (var j = 0; j < 4; j++) {
				tanza += lines[index][j] + "<br>" + "<br>";
			}
			lyric_block.firstChild.innerHTML = tanza;
		}
		else {
			lyric_block.firstChild.innerHTML = "";
		}
	}

</script>
</body>
</html>
